<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    
    <script>
        window.MathJax = {
            tex: { 
                inlineMath: [['$', '$'], ['\\(', '\\)']], 
                displayMath: [['$$', '$$']] 
            },
            options: {
                processHtmlClass: 'math-tex'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <title>ุงูููุงูุฉ ุงูุฅุดุนุงุนูุฉ - ูุงููุฑุง ุทุจูุฉ</title>
    <style>
        .safety-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 25px; }
        .safety-card { background: var(--card-bg); border-radius: 15px; padding: 20px; border-bottom: 4px solid #e74c3c; position: relative; }
        
        /* ุชูุณูู ุงูุฌุฏูู ุงูุฑูุงุถู */
        .limit-table-container { overflow-x: auto; margin-top: 15px; border-radius: 10px; }
        .limit-table { width: 100%; border-collapse: collapse; background: rgba(0,0,0,0.3); color: white; }
        .limit-table th, .limit-table td { 
            padding: 15px; 
            text-align: center; 
            border: 1px solid #444; 
            font-size: 0.95rem;
        }
        .limit-table th { background: var(--orange); color: var(--navy); font-weight: bold; }
        
        .math-tex { color: var(--yellow); font-weight: bold; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">ูุงููุฑุง ุทุจูุฉ ๐ท</a>
        <div class="dropdown">
            <button onclick="toggleMenu()" class="dropbtn">ุงููุงุฆูุฉ โฐ</button>
            <div id="myDropdown" class="dropdown-content">
                  <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
                <a href="physics_calc.html">ุงูุญุงุณุจุฉ ุงูููุฒูุงุฆูุฉ ๐งฎ</a>
                <a href="contrast_guide.html">ุฏููู ุงูุตุจุบุงุช ๐งช</a>
                <a href="exam.html">ูุฑูุฒ ุงูุงุฎุชุจุงุฑุงุช</a>
                <a href="anatomy.html">ุชุญุฏู ุงูุชุดุฑูุญ</a>
                <a href="atlas.html">ุฃุทูุณ ุงููุถุนูุงุช</a>
                <a href="artifacts.html">ูุฎุชุจุฑ ุงูุตูุฑ</a>
                <a href="safety.html">ุชุญุฏู ุงูุณูุงูุฉ</a>
                <a href="ct.html">CT Scan</a>
                <a href="xray.html">X-ray</a>
                <a href="mri.html">MRI</a>
                <a href="ultrasound.html">ููุฒูุงุก ุงูุณููุงุฑ ๐</a>
                <a href="qc_lab.html">ูุฎุชุจุฑ ุงูุฑูุงุจุฉ ุงูููุนูุฉ ๐๏ธ</a>
                <a href="protection.html">ุงูููุงูุฉ ุงูุฅุดุนุงุนูุฉ ๐ก๏ธ</a>
                <a href="physics_sim.html">ูุญุงูู ุงูููุฒูุงุก โ๏ธ</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 style="text-align:center; color:var(--yellow); margin-top:20px;">๐ก๏ธ ุฏููู ุงูููุงูุฉ ูุงูุญูุงูุฉ ูู ุงูุฅุดุนุงุน</h1>

        

        <div class="card" style="border: 2px solid var(--orange); padding: 20px;">
            <h3 style="color:var(--yellow); text-align:center; margin-bottom:10px;">๐ ุญุฏูุฏ ุงูุฌุฑุนุงุช ุงูุณูููุฉ (Annual Dose Limits)</h3>
            <p style="text-align:center; font-size:0.85rem; color:#ccc; margin-bottom:15px;">ุงููุนุงููุฑ ุงูุฏูููุฉ ุญุณุจ ุชูุตูุงุช ICRP ูุนุงู 2026.</p>
            
            <div class="limit-table-container">
                <table class="limit-table math-tex">
                    <thead>
                        <tr>
                            <th>ุงููุฆุฉ ุงููุณุชูุฏูุฉ</th>
                            <th>ุงูุฌุณู ูุงููุงู (Effective)</th>
                            <th>ุนุฏุณุฉ ุงูุนูู (Lens)</th>
                            <th>ุงูุฃุทุฑุงู ูุงูุฌูุฏ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="color:var(--orange)">ุงูุนุงูููู (Staff)</td>
                            <td>$20 \text{ mSv}$</td>
                            <td>$20 \text{ mSv}$</td>
                            <td>$500 \text{ mSv}$</td>
                        </tr>
                        <tr>
                            <td style="color:var(--orange)">ุงูุฌูููุฑ (Public)</td>
                            <td>$1 \text{ mSv}$</td>
                            <td>$15 \text{ mSv}$</td>
                            <td>$50 \text{ mSv}$</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p style="font-size:0.75rem; color:gray; margin-top:10px; text-align:center;">* ููุงุญุธุฉ: ูุชู ุญุณุงุจ ุงูุฌุฑุนุงุช ููุชูุณุท ุนูู ูุฏุงุฑ 5 ุณููุงุช ููุนุงูููู.</p>
        </div>

        <div id="protection-display" class="safety-grid">
            </div>
    </div>

    <script>
        // ุฏุงูุฉ ูุถูุงู ูุนุงูุฌุฉ ุงูุฑูุงุถูุงุช ููุฑ ุงูุชุญููู
        window.onload = function() {
            // 1. ุชุญููู ุงูุจูุงูุงุช ุงูุฏููุงููููุฉ ูู ุงูุฐุงูุฑุฉ
            const grid = document.getElementById('protection-display');
            const data = JSON.parse(localStorage.getItem('rad_protection')) || [];
            
            if(data.length > 0) {
                grid.innerHTML = data.map(item => `
                    <div class="safety-card">
                        <h3 style="color:var(--yellow);">${item.title}</h3>
                        <p style="font-size:0.9rem; line-height:1.6; color:#ddd; white-space:pre-line;">${item.desc}</p>
                        ${item.img ? `<img src="${item.img}" style="width:100%; border-radius:10px; margin-top:15px;">` : ''}
                    </div>
                `).join('');
            }

            // 2. ุฃูุฑ ุชุญุฏูุซ ุงูุชูุณูู ุงูุฑูุงุถู ูุฌููุน ุนูุงุตุฑ ุงูุตูุญุฉ
            if(window.MathJax) {
                MathJax.typesetPromise();
            }
        };

        function toggleMenu() { document.getElementById("myDropdown").classList.toggle("show"); }
    </script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="firebase-config.js"></script>
    
    <script>
    window.onload = async function() {
        const COLLECTION = "protection"; // ๐ก ููุณ ุงูุงุณู ุงููุณุชุฎุฏู ูู ุงูุฅุฏุงุฑุฉ
        const snap = await db.collection(COLLECTION).orderBy("createdAt", "desc").get();
        
        document.getElementById('display-grid').innerHTML = snap.docs.map(doc => `
            <div class="card">
                <h3>${doc.data().title}</h3>
                <p>${doc.data().desc}</p>
            </div>
        `).join('');
    };
</script>
</body>
</html>