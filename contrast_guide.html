<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>ุฏููู ุงูููุงุฏ ุงูููููุฉ - ูุงููุฑุง ุทุจูุฉ</title>
    <style>
        /* ุชุตููู ุดุจูุฉ ุนุฑุถ ุงูุตุจุบุงุช */
        .con-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); 
            gap: 20px; 
            margin-top: 20px;
        }
        
        /* ุชุตููู ุจุทุงูุงุช ุงูุตุจุบุงุช ุงููุทูุฑ ุจุชุจุงูู ุนุงูู */
        .contrast-card { 
            background: #050a14; 
            border: 1px solid #333; 
            border-top: 4px solid var(--orange);
            padding: 20px; 
            border-radius: 12px; 
            transition: 0.3s;
        }
        .contrast-card:hover { 
            border-color: var(--yellow); 
            transform: translateY(-5px); 
            box-shadow: 0 10px 20px rgba(0,0,0,0.4);
        }
        
        .info-section { 
            margin-top: 12px; 
            padding-top: 10px; 
            border-top: 1px solid rgba(255,255,255,0.05); 
        }
        .info-label { 
            color: var(--orange); 
            font-weight: bold; 
            font-size: 0.85rem; 
            display: block; 
            margin-top: 8px;
        }
        .info-text { 
            color: #f0f0f0; 
            font-size: 0.95rem; 
            line-height: 1.5; 
            margin-bottom: 5px; 
            display: block; 
        }
        .con-img { 
            width: 100%; 
            border-radius: 10px; 
            margin-bottom: 15px; 
            border: 1px solid #444; 
            max-height: 200px;
            object-fit: contain;
            background: #000;
        }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">ูุงููุฑุง ุทุจูุฉ ๐ท</a>
        <div class="dropdown">
            <button onclick="toggleMenu()" class="dropbtn">ุงููุงุฆูุฉ โฐ</button>
            <div id="myDropdown" class="dropdown-content">
               <a href="index.html">ุงูุฑุฆูุณูุฉ</a>
                <a href="contrast_guide.html">ุฏููู ุงูุตุจุบุงุช ๐งช</a>
                <a href="xray.html">X-ray</a>
                <a href="ct.html">CT Scan</a>
                <a href="medical_terms.html">ุงููุตุทูุญุงุช ุงูุทุจูุฉ</a>
                <a href="protection.html">ุงูููุงูุฉ ุงูุฅุดุนุงุนูุฉ</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 style="text-align:center; color:var(--yellow); margin-top:30px; font-size: 2.2rem;">๐ ุงูุฏููู ุงูุนููู ููููุงุฏ ุงูููููุฉ</h1>
        <p style="text-align:center; color:#8892b0; margin-bottom:40px;">ูุฑุฌุน ุดุงูู ูุฃููุงุน ูุฎุตุงุฆุต ุงูุตุจุบุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูุชุตููุฑ ุงูุทุจู</p>
        
        <div id="con-display-grid" class="con-grid">
            <p style="text-align:center; grid-column: 1/-1; color:var(--orange);">ุฌุงุฑู ุชุญููู ุงูุจูุงูุงุช ูู ุงูุณุญุงุจ...</p>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>

    <script>
        // ุฏุงูุฉ ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
        function toggleMenu() { 
            document.getElementById("myDropdown").classList.toggle("show"); 
        }

        // ุฌูุจ ุงูุจูุงูุงุช ูู ุงูุณุญุงุจ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        window.onload = async function() {
            const grid = document.getElementById('con-display-grid');
            try {
                // ุฌูุจ ุงูููุงุฏ ูุฑุชุจุฉ ุฃุจุฌุฏูุงู ุญุณุจ ุงูุงุณู ูู ูุฌููุนุฉ contrast
                const snap = await db.collection("contrast").orderBy("name", "asc").get();
                
                if(snap.empty) { 
                    grid.innerHTML = "<p style='text-align:center; grid-column: 1/-1; color:gray;'>ูุง ุชูุฌุฏ ุจูุงูุงุช ูุณุฌูุฉ ุญุงููุงู.</p>"; 
                    return; 
                }

                grid.innerHTML = snap.docs.map(doc => {
                    const item = doc.data();
                    return `
                        <div class="contrast-card">
                            ${item.img ? `<img src="${item.img}" class="con-img" alt="${item.name}">` : ''}
                            <h3 style="color:var(--yellow); margin:0; font-size:1.4rem;">${item.name}</h3>
                            <div style="margin: 5px 0;">
                                <span style="color:var(--orange); font-size:0.9rem; font-weight:bold;">${item.type || ''}</span>
                                ${item.prop ? `<span style="color:#aaa; font-size:0.8rem; margin: 0 5px;">|</span><span style="color:#ddd; font-size:0.8rem;">${item.prop}</span>` : ''}
                            </div>
                            
                            <div class="info-section">
                                ${item.mech ? `<span class="info-label">ุงูุฎุตุงุฆุต ูุงูุขููุฉ:</span><span class="info-text">${item.mech}</span>` : ''}
                                ${item.notes ? `<span class="info-label">ุฏูุงุนู ุงูุงุณุชุนูุงู:</span><span class="info-text">${item.notes}</span>` : ''}
                                ${item.safety ? `<span class="info-label">ููุงุญุธุงุช ุงูุณูุงูุฉ ูุงูุชุญุฐูุฑุงุช:</span><span class="info-text" style="color:#ff6b6b;">${item.safety}</span>` : ''}
                                ${item.desc ? `<span class="info-label">ุงููุตู ุงูููุฒูุงุฆู:</span><span class="info-text" style="font-style:italic; color:#bbb;">${item.desc}</span>` : ''}
                            </div>
                        </div>
                    `;
                }).join('');
            } catch(e) { 
                grid.innerHTML = `<p style='text-align:center; grid-column: 1/-1; color:red;'>ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุงูุจูุงูุงุช: ${e.message}</p>`; 
            }
        };

        // ุฅุบูุงู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ ุนูุฏ ุงูุถุบุท ุฎุงุฑุฌูุง
        window.onclick = function(e) {
            if (!e.target.matches('.dropbtn')) {
                const drops = document.getElementsByClassName("dropdown-content");
                for (let d of drops) {
                    if (d.classList.contains('show')) d.classList.remove('show');
                }
            }
        }
    </script>
</body>
</html>