<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø·Ø¨ÙŠØ© - ÙƒØ§Ù…ÙŠØ±Ø§ Ø·Ø¨ÙŠØ©</title>
    <style>
        .search-container { position: sticky; top: 70px; z-index: 100; background: var(--navy); padding: 15px 0; }
        .search-bar { 
            width: 100%; padding: 15px; border-radius: 30px; border: 2px solid var(--orange); 
            background: #000; color: white; font-size: 1.1rem; text-align: center;
        }
        .dict-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px; }
        .term-card { background: var(--card-bg); border-radius: 15px; padding: 20px; border-right: 5px solid var(--yellow); transition: 0.3s; }
        .term-card:hover { transform: translateY(-5px); border-right-color: var(--orange); }
        .term-en { color: var(--orange); font-family: 'Segoe UI', sans-serif; font-size: 0.9rem; }
        .term-def { margin-top: 10px; font-size: 0.95rem; line-height: 1.6; color: #ddd; }
        .term-img { width: 100%; border-radius: 10px; margin-top: 10px; border: 1px solid #333; }
        .no-results { text-align: center; padding: 50px; color: gray; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">ÙƒØ§Ù…ÙŠØ±Ø§ Ø·Ø¨ÙŠØ© ğŸ“·</a>
        <div class="dropdown">
            <button onclick="toggleMenu()" class="dropbtn">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© â˜°</button>
            <div id="myDropdown" class="dropdown-content">
                  <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="physics_calc.html">Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© ğŸ§®</a>
                <a href="contrast_guide.html">Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµØ¨ØºØ§Øª ğŸ§ª</a>
                <a href="exam.html">Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
                <a href="anatomy.html">ØªØ­Ø¯ÙŠ Ø§Ù„ØªØ´Ø±ÙŠØ­</a>
                <a href="atlas.html">Ø£Ø·Ù„Ø³ Ø§Ù„ÙˆØ¶Ø¹ÙŠØ§Øª</a>
                <a href="artifacts.html">Ù…Ø®ØªØ¨Ø± Ø§Ù„ØµÙˆØ±</a>
                <a href="safety.html">ØªØ­Ø¯ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…Ø©</a>
                <a href="ct.html">CT Scan</a>
                <a href="xray.html">X-ray</a>
                <a href="mri.html">MRI</a>
                <a href="ultrasound.html">ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø³ÙˆÙ†Ø§Ø± ğŸ”Š</a>
                <a href="qc_lab.html">Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ù†ÙˆØ¹ÙŠØ© ğŸ› ï¸</a>
                <a href="protection.html">Ø§Ù„ÙˆÙ‚Ø§ÙŠØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø¹ÙŠØ© ğŸ›¡ï¸</a>
                <a href="physics_sim.html">Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ âš›ï¸</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="search-container">
            <input type="text" id="searchInput" class="search-bar" placeholder="ğŸ” Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ØµØ·Ù„Ø­ Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ..." onkeyup="searchDict()">
        </div>

        <div id="dictionary-grid" class="dict-grid">
            </div>
    </div>

    <script>
        let fullDict = [];

        window.onload = function() {
            fullDict = JSON.parse(localStorage.getItem('radiology_dict')) || [];
            displayTerms(fullDict);
        };

        function displayTerms(terms) {
            const grid = document.getElementById('dictionary-grid');
            if(terms.length === 0) {
                grid.innerHTML = '<div class="no-results">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…ØµØ·Ù„Ø­Ø§Øª Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ø¨Ø­Ø«...</div>';
                return;
            }

            grid.innerHTML = terms.map(item => `
                <div class="term-card">
                    <div style="display:flex; justify-content:space-between; align-items:center;">
                        <h3 style="color:var(--yellow); margin:0;">${item.ar}</h3>
                        <span class="term-en">${item.en}</span>
                    </div>
                    <p class="term-def">${item.def}</p>
                    ${item.img ? `<img src="${item.img}" class="term-img">` : ''}
                </div>
            `).join('');
        }

        function searchDict() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = fullDict.filter(item => 
                item.ar.toLowerCase().includes(query) || 
                item.en.toLowerCase().includes(query)
            );
            displayTerms(filtered);
        }

        function toggleMenu() { document.getElementById("myDropdown").classList.toggle("show"); }
    </script>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="firebase-config.js"></script>
    
    
    
    <script>
    window.onload = async function() {
        const COLLECTION = "dictionary"; // ğŸ’¡ Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        const snap = await db.collection(COLLECTION).orderBy("createdAt", "desc").get();
        
        document.getElementById('display-grid').innerHTML = snap.docs.map(doc => `
            <div class="card">
                <h3>${doc.data().title}</h3>
                <p>${doc.data().desc}</p>
            </div>
        `).join('');
    };
</script>
</body>
</html>