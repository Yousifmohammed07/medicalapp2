<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª - ÙƒØ§Ù…ÙŠØ±Ø§ Ø·Ø¨ÙŠØ©</title>
    <style>
        .search-container { margin: 20px 0; text-align: center; }
        #searchInput { width: 80%; max-width: 500px; padding: 12px; border-radius: 25px; border: 2px solid var(--orange); background: #0a1120; color: white; outline: none; }
        
        .terms-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; padding: 10px; }
        
        .term-card { 
            background: #050a14; /* Ø®Ù„ÙÙŠØ© Ø¯Ø§ÙƒÙ†Ø© Ø¬Ø¯Ø§Ù‹ Ù„Ù„ØªØ¨Ø§ÙŠÙ† */
            border: 1px solid #333; 
            border-right: 5px solid var(--orange); 
            padding: 20px; 
            border-radius: 10px; 
            transition: 0.3s;
        }
        .term-card:hover { border-color: var(--yellow); transform: scale(1.02); }
        .term-card h3 { color: var(--yellow); margin: 0; font-size: 1.4rem; font-family: sans-serif; }
        .term-card h4 { color: var(--orange); margin: 5px 0 15px 0; font-size: 1.1rem; }
        .term-card p { color: #f0f0f0; line-height: 1.6; font-size: 0.95rem; margin: 0; }
    </style>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª ğŸ“·</a>
        <div class="dropdown">
            <button onclick="toggleMenu()" class="dropbtn">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© â˜°</button>
            <div id="myDropdown" class="dropdown-content">
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="physics_calc.html">Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© ğŸ§®</a>
                <a href="contrast_guide.html">Ø¯Ù„ÙŠÙ„ Ø§Ù„ØµØ¨ØºØ§Øª ğŸ§ª</a>
                <a href="exam.html">Ù…Ø±ÙƒØ² Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</a>
                <a href="anatomy.html">ØªØ­Ø¯ÙŠ Ø§Ù„ØªØ´Ø±ÙŠØ­</a>
                <a href="atlas.html">Ø£Ø·Ù„Ø³ Ø§Ù„ÙˆØ¶Ø¹ÙŠØ§Øª</a>
                <a href="artifacts.html">Ù…Ø®ØªØ¨Ø± Ø§Ù„ØµÙˆØ±</a>
                <a href="safety.html">ØªØ­Ø¯ÙŠ Ø§Ù„Ø³Ù„Ø§Ù…Ø©</a>
                <a href="ct.html">CT Scan</a>
                <a href="xray.html">X-ray</a>
                <a href="mri.html">MRI</a>
                <a href="ultrasound.html">ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ø³ÙˆÙ†Ø§Ø± ğŸ”Š</a>
                <a href="qc_lab.html">Ù…Ø®ØªØ¨Ø± Ø§Ù„Ø±Ù‚Ø§Ø¨Ø© Ø§Ù„Ù†ÙˆØ¹ÙŠØ© ğŸ› ï¸</a>
                <a href="protection.html">Ø§Ù„ÙˆÙ‚Ø§ÙŠØ© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø¹ÙŠØ© ğŸ›¡ï¸</a>
                <a href="medical_terms.html">Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© ğŸ“–</a>
                <a href="physics_sim.html">Ù…Ø­Ø§ÙƒÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ âš›ï¸</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 style="text-align:center; color:var(--yellow); margin-top:20px;">ğŸ“– Ù‚Ø§Ù…ÙˆØ³ Ø§Ù„Ù…ØµØ·Ù„Ø­Ø§Øª Ø§Ù„Ø¥Ø´Ø¹Ø§Ø¹ÙŠØ© ÙˆØ§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©</h1>
        
        <div class="search-container">
            <input type="text" id="searchInput" onkeyup="filterTerms()" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…ØµØ·Ù„Ø­ (Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠ Ø£Ùˆ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ)...">
        </div>

        <div id="termsContainer" class="terms-grid">
            </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>

    <script>
        function toggleMenu() { document.getElementById("myDropdown").classList.toggle("show"); }

        let allTerms = [];

        window.onload = async function() {
            const container = document.getElementById('termsContainer');
            try {
                const snap = await db.collection("medical_terms").orderBy("en", "asc").get();
                allTerms = snap.docs.map(doc => doc.data());
                displayTerms(allTerms);
            } catch(e) { console.error(e); }
        };

        function displayTerms(terms) {
            const container = document.getElementById('termsContainer');
            if(terms.length === 0) {
                container.innerHTML = "<p style='text-align:center; grid-column:1/-1;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©.</p>";
                return;
            }
            container.innerHTML = terms.map(t => `
                <div class="term-card">
                    <h3 dir="ltr">${t.en}</h3>
                    <h4>${t.ar}</h4>
                    <p>${t.desc || 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ Ù…ØªØ§Ø­.'}</p>
                </div>
            `).join('');
        }

        function filterTerms() {
            const query = document.getElementById('searchInput').value.toLowerCase();
            const filtered = allTerms.filter(t => 
                t.en.toLowerCase().includes(query) || 
                t.ar.includes(query)
            );
            displayTerms(filtered);
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
        window.onclick = function(e) {
            if (!e.target.matches('.dropbtn')) {
                const drops = document.getElementsByClassName("dropdown-content");
                for (let d of drops) if (d.classList.contains('show')) d.classList.remove('show');
            }
        }
    </script>
    
</body>
</html>