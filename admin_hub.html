<!DOCTYPE html>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="firebase-config.js"></script>

<script>
    // ุงูุชุฃูุฏ ูู ุญุงูุฉ ุงููุณุชุฎุฏู
    firebase.auth().onAuthStateChanged((user) => {
        if (!user) {
            // ุฅุฐุง ูู ููู ูุณุฌูุงูุ ุงุทุฑุฏู ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู
            window.location.href = "login.html";
        }
    });

    function logout() {
        firebase.auth().signOut().then(() => {
            window.location.href = "login.html";
        });
    }
</script>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>ูุฑูุฒ ุงูุฅุฏุงุฑุฉ - ูุงููุฑุง ุทุจูุฉ</title>
</head>
<body>
    <nav>
        <a href="index.html" class="logo">ูุงููุฑุง ุทุจูุฉ ๐ท</a>
        <a href="index.html" style="color:white; text-decoration:none;">ุงูุนูุฏุฉ ูููููุน</a>
    </nav>

    <div class="container">
        <h1 style="text-align:center; color:var(--yellow); margin-top:30px;">โ๏ธ ููุญุฉ ุงูุชุญูู ุงููุฑูุฒูุฉ</h1>
        <p style="text-align:center;">ูุฑุญุจุงู ููุณูุ ุงุฎุชุฑ ุงููุณู ุงูุฐู ุชุฑูุฏ ุฅุฏุงุฑุชู:</p>
        
        <div class="main-grid">
            <div class="feature-card" onclick="location.href='admin_exams.html'" style="cursor:pointer;">
                <div class="feature-icon">๐</div>
                <h3>ุฅุฏุงุฑุฉ ุงูุงุฎุชุจุงุฑุงุช</h3>
                <p>ุฅุถุงูุฉ ูุณุชููุงุช ุฌุฏูุฏุฉุ ุชุนุฏูู ุงูุฃุณุฆูุฉุ ูุฅุฏุงุฑุฉ ูุณุงุฑ ุงูุชุญุฏู.</p>
                <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
            </div>
            
            
                <div class="feature-card" onclick="location.href='admin_anatomy.html'" style="cursor:pointer;">
                <h3>๐ฆด ุฅุฏุงุฑุฉ ุชุญุฏู ุงูุชุดุฑูุญ</h3>
                <p>ุฑูุน ุงูุตูุฑ ูุชุญุฏูุฏ ุงููุนุงูู ุงูุชุดุฑูุญูุฉ.</p>
                <a href="admin_anatomy.html" class="btn-primary">ุฏุฎูู ุงูุฅุฏุงุฑุฉ</a>
            </div>
            
              <div class="feature-card" onclick="location.href='admin_anatomy_lessons.html'" style="cursor:pointer;">
                <h3>๐ ุฅุฏุงุฑุฉ ุฏุฑูุณ ุงูุชุดุฑูุญ</h3>
                <p>ูุชุงุจุฉ ุงูุดุฑูุญุงุช ูุฑูุน ุตูุฑ ุงูุฃุทูุณ.</p>
                <a href="admin_anatomy_lessons.html" class="btn-primary">ุฏุฎูู ุงูุฅุฏุงุฑุฉ</a>
            </div>
            
            
            <div class="feature-card" onclick="location.href='xray_admin.html'" style="cursor:pointer;">
                <div class="feature-icon">โข๏ธ</div>
                <h3>ุฅุฏุงุฑุฉ ุฏุฑูุณ ุงูุฃุดุนุฉ</h3>
                <p>ุฅุถุงูุฉ ูุชุนุฏูู ุฏุฑูุณ ููุฒูุงุก ุงูุฃุดุนุฉ ุงูุณูููุฉ ูุงูุดุฑูุญุงุช.</p>
              
               <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
              
            </div>
          <div class="feature-card" onclick="location.href='admin_artifacts.html'" style="cursor:pointer;">
    <div class="feature-icon">๐ผ๏ธ</div>
    <h3>ุฅุฏุงุฑุฉ ูุฎุชุจุฑ ุงูุฃุฎุทุงุก</h3>
    <p>ุฅุถุงูุฉ ุตูุฑ ุงูู Artifacts ูู ุงูุงุณุชูุฏูู ูุชุนุฏูู ุฎูุงุฑุงุช ุงูุชุดุฎูุต ูุงูุชูุณูุฑ ุงูุนููู.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          <div class="feature-card" onclick="location.href='admin_ct.html'" style="cursor:pointer;">
    <div class="feature-icon">๐</div>
    <h3>ุฅุฏุงุฑุฉ ุฏุฑูุณ ุงูููุฑุงุณ (CT)</h3>
    <p>ุฅุถุงูุฉ ุงูุดุฑูุญุงุช ุงูููุฒูุงุฆูุฉ ุงููุชูุฏูุฉ ูุญุณุงุจุงุช ุงูุฌุฑุนุฉ ุจูุธุงู ุงูููุงุทุน ูุงูุตูุฑ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          
       <div class="feature-card" onclick="location.href='admin_mri.html'" style="cursor:pointer;">
    <div class="feature-icon">๐ง</div>
    <h3>ุฅุฏุงุฑุฉ ุฏุฑูุณ ุงูุฑููู (MRI)</h3>
    <p>ุจูุงุก ุงููุญุชูู ุงููุชูุฏู ููุฑููู ุงููุบูุงุทูุณูุ ุงูุงุฑุชุฎุงุก ุงูููุฒูุงุฆู ููุนุงุฏูุงุช ูุงุฑููุฑ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>   
          
          
          
          
          <div class="feature-card" onclick="location.href='admin_atlas.html'" style="cursor:pointer;">
    <div class="feature-icon">๐</div>
    <h3>ุฅุฏุงุฑุฉ ุงูุฃุทูุณ</h3>
    <p>ุฅุถุงูุฉ ูุชุนุฏูู ูุถุนูุงุช ุงูุชุตููุฑ ููุนุงููุฑูุง ุงูุชูููุฉ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          <div class="feature-card" onclick="location.href='admin_safety.html'" style="cursor:pointer;">
    <div class="feature-icon">๐ก๏ธ</div>
    <h3>ุฅุฏุงุฑุฉ ุชุญุฏู ุงูุณูุงูุฉ</h3>
    <p>ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ุงูุณูุงูุฉ ุงูููููุฉ ูุฌููุน ุฃุฌูุฒุฉ ุงูุฃุดุนุฉ (MRI, CT, X-ray).</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>

  
          
          <div class="feature-card" onclick="location.href='admin_contrast.html'" style="cursor:pointer;">
    <div class="feature-icon">๐</div>
    <h3>ุฅุฏุงุฑุฉ ุงูููุงุฏ ุงูููููุฉ</h3>
    <p>ุฅุถุงูุฉ ุฃููุงุน ุงูุตุจุบุงุชุ ุชุฑุงููุฒูุงุ ูุจุฑูุชููููุงุช ุงูุฃูุงู ูุงูุญุณุงุณูุฉ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          
      <div class="feature-card" onclick="location.href='admin_ultrasound.html'" style="cursor:pointer;">
    <div class="feature-icon">๐</div>
    <h3>ุฅุฏุงุฑุฉ ุฏุฑูุณ ุงูุณููุงุฑ</h3>
    <p>ุฅุถุงูุฉ ุดุฑูุญุงุช ูููุงูููุง ุงูููุฌุงุช ููู ุงูุตูุชูุฉ ูุชุฃุซูุฑ ุฏูุจูุฑ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>    
          
          
          <div class="feature-card" onclick="location.href='admin_qc.html'" style="cursor:pointer;">
    <div class="feature-icon">๐๏ธ</div>
    <h3>ุฅุฏุงุฑุฉ ุงูุฑูุงุจุฉ ุงูููุนูุฉ</h3>
    <p>ุฅุถุงูุฉ ุจุฑูุชููููุงุช QCุ ูุนุงูุฑุฉ ุงูุฃุฌูุฒุฉุ ููุนุงููุฑ ุงููุจูู ูุงูุฑูุถ.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          
          <div class="feature-card" onclick="location.href='admin_protection.html'" style="cursor:pointer;">
    <div class="feature-icon">๐ก๏ธ</div>
    <h3>ุฅุฏุงุฑุฉ ุงูููุงูุฉ ุงูุฅุดุนุงุนูุฉ</h3>
    <p>ุชุญุฏูุฏ ุญุฏูุฏ ุงูุฌุฑุนุงุช ุงูุณูููุฉุ ุชุนูููุงุช PPEุ ูุจุฑูุชููููุงุช ALARA.</p>
    <button class="btn-primary">ุฏุฎูู ุงููุณู</button>
</div>
          
            <div class="admin-card" onclick="location.href='admin_terms2.html'" style="cursor:pointer; border:1px solid #FFD700; padding:20px; border-radius:15px; background:#111b2d; text-align:center;">
    <span style="font-size:3rem;">โ๏ธ</span>
    <h3 style="color:#FFD700; margin-top:10px;">ุฅุฏุงุฑุฉ ูุงููุณ ุงููุตุทูุญุงุช</h3>
    <p style="color:#ccc;">ุฅุถุงูุฉุ ุชุนุฏููุ ุฃู ุญุฐู ุงููุตุทูุญุงุช ุงูุทุจูุฉ ูุงูุงุฎุชุตุงุฑุงุช</p>
    <button class="btn-primary" style="margin-top:15px; width:auto;">ุฏุฎูู ุงููุณู ๐๏ธ</button>
</div>
            
            
            
       <div class="card" style="text-align: center; border-right: 5px solid var(--yellow);">
    <h3 style="color:var(--yellow);">ุฅุฏุงุฑุฉ ุงููุงููุณ ๐</h3>
    <p>ุฅุถุงูุฉุ ุชุนุฏููุ ุฃู ุญุฐู ุงููุตุทูุญุงุช ุงูุทุจูุฉ ูุงูููุฒูุงุฆูุฉ.</p>
    <button class="btn-admin" onclick="location.href='admin_terms.html'">ูุชุญ ูุญุฑุฑ ุงููุตุทูุญุงุช</button>
</div>     
            
            
            
            <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
<script src="firebase-config.js"></script>
            
            
  <script>
    const COLLECTION = "hub"; // ๐ก ุบูุฑูุง ุฅูู us_lessons ุฃู rad_protection ุญุณุจ ุงูุตูุญุฉ

    async function saveData() {
        const title = document.querySelector('input').value;
        const desc = document.querySelector('textarea').value;
        
        await db.collection(COLLECTION).add({
            title, desc, createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });
        location.reload();
    }

    // ุฌูุจ ุงูุจูุงูุงุช ููุญุฐู
    window.onload = async function() {
        const snap = await db.collection(COLLECTION).orderBy("createdAt", "desc").get();
        document.getElementById('data-list').innerHTML = snap.docs.map(doc => `
            <div style="display:flex; justify-content:space-between; padding:10px;">
                <span>${doc.data().title}</span>
                <button onclick="db.collection('${COLLECTION}').doc('${doc.id}').delete().then(()=>location.reload())">ุญุฐู ๐๏ธ</button>
            </div>
        `).join('');
    };
</script>
          <div class="container" style="margin-top: 20px;">
    <div class="admin-section" style="background: linear-gradient(145deg, #0f172a, #0a1120); border-color: var(--yellow);">
        <h2 style="color:var(--yellow); text-align:center; margin-bottom: 25px;">๐ ุฅุญุตุงุฆูุงุช ุงูุฃูุงุฏูููุฉ ุงูุญูุฉ</h2>
        
        <div class="admin-grid" style="grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));">
            <div class="stat-card" style="padding:15px; border:1px solid rgba(255,215,0,0.2); border-radius:15px; text-align:center;">
                <span style="font-size:2rem;">๐ฅ</span>
                <h4 style="color:#ccc; margin:10px 0;">ุฅุฌูุงูู ุงูุฒูุงุฑ</h4>
                <div id="stat-visitors" style="font-size:1.8rem; color:var(--orange); font-weight:bold;">...</div>
            </div>

            <div class="stat-card" style="padding:15px; border:1px solid rgba(255,215,0,0.2); border-radius:15px; text-align:center;">
                <span style="font-size:2rem;">๐</span>
                <h4 style="color:#ccc; margin:10px 0;">ูุณุชููุงุช ุงูุงุฎุชุจุงุฑ</h4>
                <div id="stat-exams" style="font-size:1.8rem; color:var(--orange); font-weight:bold;">...</div>
            </div>

            <div class="stat-card" style="padding:15px; border:1px solid rgba(255,215,0,0.2); border-radius:15px; text-align:center;">
                <span style="font-size:2rem;">๐ฆด</span>
                <h4 style="color:#ccc; margin:10px 0;">ุชุญุฏูุงุช ุงูุชุดุฑูุญ</h4>
                <div id="stat-anatomy" style="font-size:1.8rem; color:var(--orange); font-weight:bold;">...</div>
            </div>

            <div class="stat-card" style="padding:15px; border:1px solid rgba(255,215,0,0.2); border-radius:15px; text-align:center;">
                <span style="font-size:2rem;">๐๏ธ</span>
                <h4 style="color:#ccc; margin:10px 0;">ุจุฑูุชููููุงุช QC</h4>
                <div id="stat-qc" style="font-size:1.8rem; color:var(--orange); font-weight:bold;">...</div>
            </div>
        </div>
    </div>
</div>

<script>
    // ุฏุงูุฉ ุฌูุจ ุงูุฅุญุตุงุฆูุงุช ูู Firebase
    async function fetchAcademyStats() {
        try {
            // 1. ุฌูุจ ุนุฏุฏ ุงูุฒูุงุฑ (ุชุฃูุฏ ูู ูุฌูุฏ ูุณุชูุฏ site_stats/visitors)
            const visitorDoc = await db.collection("site_stats").doc("visitors").get();
            document.getElementById('stat-visitors').innerText = visitorDoc.exists ? visitorDoc.data().count : 0;

            // 2. ุฌูุจ ุนุฏุฏ ูุณุชููุงุช ุงูุงุฎุชุจุงุฑุงุช
            const examsSnap = await db.collection("exams").get();
            document.getElementById('stat-exams').innerText = examsSnap.size;

            // 3. ุฌูุจ ุนุฏุฏ ุชุญุฏูุงุช ุงูุชุดุฑูุญ
            const anatomySnap = await db.collection("anatomy_challenges").get();
            document.getElementById('stat-anatomy').innerText = anatomySnap.size;

            // 4. ุฌูุจ ุนุฏุฏ ุจุฑูุชููููุงุช ุงูุฑูุงุจุฉ ุงูููุนูุฉ
            const qcSnap = await db.collection("qc_tests").get();
            document.getElementById('stat-qc').innerText = qcSnap.size;

        } catch (e) {
            console.error("ุฎุทุฃ ูู ุฌูุจ ุงูุฅุญุตุงุฆูุงุช:", e);
        }
    }

    // ุชุดุบูู ุงูุฌูุจ ุนูุฏ ุงูุชุญููู
    window.onload = function() {
        fetchAcademyStats();
        // ููููู ููุง ุฅุถุงูุฉ ุงูุฏูุงู ุงููุฏููุฉ ุงูุฎุงุตุฉ ุจููุญุฉ ุงูุฅุฏุงุฑุฉ
    };
</script>
</body>
</html>